/**
 * @license 
 * htemplates.com
 * MIT license
 */
!function(t){"use strict";var e=function(t,e){switch(t.storage){case"cookies":var a=encodeURI(e),i=new Date;-1===t.cookiesExp?document.cookie=t.storageName+"="+a+";path=/;":(i.setDate(i.getDate()+t.cookiesExp),document.cookie=t.storageName+"="+a+";path=/; expires="+i.toUTCString());break;case"localstorage":localStorage.setItem(t.storageName,e)}},a=function(t){var e="";switch(t.storage){case"cookies":for(var a=document.cookie.split(";"),i=0;i<a.length;i++){var n=a[i].substr(0,a[i].indexOf("=")),o=a[i].substr(a[i].indexOf("=")+1);n=n.replace(/^\s+|\s+$/g,""),n===t.storageName&&(e=decodeURI(o))}break;case"localstorage":e=localStorage.getItem(t.storageName)}return e},i=function(a,i){var n,o,l;if(l=i.attr("data-name")){a.$liList.removeClass("jtabs-current"),a.$liListIphone.removeClass("jtabs-current");for(var c=0;c<a.$tabs.length;c++)o=a.$tabs.eq(c),n=o.attr("data-name"),l===n?(o.show(),a.$liList.filter('[data-name="'+n+'"]').addClass("jtabs-current"),a.$liListIphone.filter('[data-name="'+n+'"]').addClass("jtabs-current")):o.hide();e(a.options,l),t.isFunction(a.options.callback)&&a.options.callback(l),a.options.deepLinks&&s(a,l)}else a.$liList.removeClass("jtabs-current")},n=function(e,a){e.$liList.on("click",function(){i(e,t(this))}),e.$liListIphone.on("click",function(){i(e,t(this))}),a.find(".jtabs-iphone-menu").on("click",function(){e.$ulIphone.toggleClass("jtabs-show"),e.$ulIphone.css({top:a.find(".jtabs-iphone-menu-title").outerHeight(!0)})})},o=function(e,n){var o=a(n);t.trim(o)?i(e,e.$liList.filter("[data-name="+o+"]")):i(e,e.$liList.eq(0))},s=function(t,e){var a;t.options.anchorHistory?window.location.hash=e:(a=window.location.href,-1!==a.indexOf("#")&&(a=a.replace(/#.*/,"")),e?window.location.replace(a+"#"+e):window.location.replace(a+"#"))},l=function(e){var a,n=window.location.hash;n=t.trim(n.replace("#","")),n?(a=e.$liList.filter('[data-name="'+n+'"]').eq(0),a.length>0&&i(e,a)):i(e,e.$liList.eq(0))},c=function(t,e){t.$tabsNav.prepend('<div class="jtabs-iphone-menu"><div class="jtabs-iphone-menu-title">'+e.attr("data-iphone-menu")+'</div><ul class="jtabs-iphone-menu-ul">'+t.$ul.html()+"</ul></div>"),t.$ulIphone=t.$tabsNav.find(".jtabs-iphone-menu-ul"),t.$liListIphone=t.$ulIphone.children("li")},r=function(t,e,a){t.$tabsNav=a.children(".jtabs-nav"),t.$ul=t.$tabsNav.children("ul"),t.$liList=t.$ul.children("li"),t.$tabs=a.children(".jtabs-content").children(".jtab"),c(t,t.$tabsNav),n(t,a),t.options.storage?o(t,e):t.options.deepLinks?l(t):i(t,t.$liList.eq(0))};t.fn.jtabs=function(e){return this.each(function(){var a={$tabsNav:null,$tabs:null,$ul:null,$ulIphone:null,$liList:null,$liListIphone:null};a.options=t.extend({callback:null,storage:"",storageName:"jtabs",cookiesExp:-1,deepLinks:!1},e),r(a,a.options,t(this)),t(this).data("jtabs",a)})}}(jQuery);